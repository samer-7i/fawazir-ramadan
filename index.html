<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³Ø§Ø¨Ù‚Ø© Remy ğŸ®</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script src="script.js"></script>

    <style>
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ØªÙŠ ØªØ­Ø¨Ù‡Ø§ Ù…Ø¹ Ø§Ù„Ù„ÙˆØ¬Ùˆ */
        :root { --bg-color: #0a1120; --primary: #38bdf8; --text-main: #f8fafc; }
        body { margin: 0; background-color: var(--bg-color); color: var(--text-main); font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
        .header-section { display: flex; flex-direction: column; align-items: center; padding: 30px; }
        .main-logo { width: 110px; height: 110px; border-radius: 50%; border: 3px solid var(--primary); margin-bottom: 15px; }
        #question-text { color: #fbbf24; font-size: 1.2em; text-align: center; margin: 10px 20px; min-height: 30px; }
        .answers-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 90%; max-width: 400px; }
        .answer-btn { background: #162136; color: white; border: 2px solid var(--primary); padding: 20px 10px; border-radius: 12px; font-weight: bold; font-size: 1.1em; cursor: pointer; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="header-section">
        <img src="logo.png" class="main-logo">
        <h1 id="question-status">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø³Ø¤Ø§Ù„...</h1>
        <p id="question-text"></p>
    </div>

    <div id="quiz-area" class="hidden">
        <div class="answers-grid">
            <button id="btn0" class="answer-btn" onclick="submitAnswer(0)"></button>
            <button id="btn1" class="answer-btn" onclick="submitAnswer(1)"></button>
            <button id="btn2" class="answer-btn" onclick="submitAnswer(2)"></button>
            <button id="btn3" class="answer-btn" onclick="submitAnswer(3)"></button>
        </div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
        const firebaseConfig = {
            apiKey: "AIzaSyBxqfLt3o3JWy_vwnpwSQPIVdtEDGoYB6k",
            authDomain: "fawazir-jaco.firebaseapp.com",
            databaseURL: "https://fawazir-jaco-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "fawazir-jaco",
            storageBucket: "fawazir-jaco.firebasestorage.app",
            appId: "1:862747657100:web:d52ecee9373a5e33fd8ca9"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
        db.ref('currentQuestion').on('value', (snapshot) => {
            const idx = snapshot.val();
            const status = document.getElementById("question-status");
            const qText = document.getElementById("question-text");
            const area = document.getElementById("quiz-area");

            if (idx === -1 || idx === null) {
                status.innerText = "Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…...";
                qText.innerText = "";
                area.classList.add("hidden");
            } else {
                // Ø³Ø­Ø¨ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ù† Ù…ØµÙÙˆÙØ© questions Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ script.js
                // Ø§ÙØªØ±Ø¶Ù†Ø§ Ø£Ù† Ø§Ù„Ù…ØµÙÙˆÙØ© ÙÙŠ script.js Ø§Ø³Ù…Ù‡Ø§ questions
                if (typeof questions !== 'undefined' && questions[idx]) {
                    const currentQ = questions[idx];
                    status.innerText = "Ø§Ù„Ø³Ø¤Ø§Ù„ " + (idx + 1);
                    qText.innerText = currentQ.question; // Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„
                    
                    // ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                    document.getElementById("btn0").innerText = currentQ.options[0];
                    document.getElementById("btn1").innerText = currentQ.options[1];
                    document.getElementById("btn2").innerText = currentQ.options[2];
                    document.getElementById("btn3").innerText = currentQ.options[3];
                    
                    area.classList.remove("hidden");
                } else {
                    status.innerText = "Ø³Ø¤Ø§Ù„ " + (idx + 1);
                    qText.innerText = "Ø®Ø·Ø£: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙÙŠ script.js";
                }
            }
        });

        function submitAnswer(choiceIdx) {
            // ÙƒÙˆØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù„Ù€ Firebase (ÙƒÙ…Ø§ Ù‡Ùˆ Ø¹Ù†Ø¯Ùƒ Ø³Ø§Ø¨Ù‚Ø§Ù‹)
            alert("ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: " + document.getElementById("btn" + choiceIdx).innerText);
            document.getElementById("quiz-area").classList.add("hidden");
        }
    </script>
</body>
</html>
