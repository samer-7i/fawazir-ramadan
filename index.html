<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ŸÖÿ≥ÿßÿ®ŸÇÿ© Remy üëë</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --bg: #0a1120; --card: #162136; --blue: #38bdf8; --red: #e94560; --accent: #10b981; --text: #ffffff; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; }
        .container { width: 100%; max-width: 450px; background: var(--card); padding: 30px; border-radius: 25px; text-align: center; border: 1px solid rgba(56, 189, 248, 0.2); box-shadow: 0 15px 35px rgba(0,0,0,0.5); }
        .logo { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--blue); margin-bottom: 20px; box-shadow: 0 0 15px var(--blue); background: #000; }
        input { width: 100%; padding: 15px; margin-bottom: 20px; border-radius: 12px; border: 2px solid var(--blue); background: rgba(0,0,0,0.3); color: #fff; text-align: center; font-size: 1.1em; outline: none; box-sizing: border-box; }
        #question-area { display: none; }
        .timer-msg { font-size: 1.1em; color: #ff9800; font-weight: bold; margin: 15px 0; }
        .opt-btn { width: 100%; padding: 16px; margin: 10px 0; border-radius: 12px; border: 1px solid rgba(56,189,248,0.3); background: rgba(255,255,255,0.05); color: #fff; cursor: pointer; font-size: 1.1em; font-weight: bold; transition: 0.2s; display: none; }
        .opt-btn:active { transform: scale(0.98); }
        .correct { background: var(--accent) !important; border-color: #fff; }
        .wrong { background: var(--red) !important; animation: shake 0.3s; }
        @keyframes shake { 0%,100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }
    </style>
</head>
<body>

<div class="container">
    <img src="logo.png" class="logo" id="main-logo" onerror="this.src='https://api.dicebear.com/7.x/bottts/svg?seed=Remy'">
    
    <h2 id="status">ÿ¨ÿßÿ±Ÿä ÿßŸÑÿßÿ™ÿµÿßŸÑ... ‚è≥</h2>

    <div id="login-area">
        <input type="text" id="username" placeholder="ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ ŸáŸÜÿß..." maxlength="25">
        <p style="color: var(--blue); font-size: 0.85em;">ÿ≥ÿ¨ŸëŸÑ ÿßÿ≥ŸÖŸÉ ÿßŸÑÿ¢ŸÜ ŸÑŸÖÿ±ÿ© Ÿàÿßÿ≠ÿØÿ© ŸÅŸÇÿ∑</p>
    </div>

    <div id="question-area">
        <h3 id="q-text" style="color: var(--blue); line-height: 1.5; margin-bottom: 10px;"></h3>
        <div id="timer-box" class="timer-msg"></div>
        <div id="options-container"></div>
    </div>
</div>

<script>
    const config = { 
        apiKey: "AIzaSyBxqfLt3o3JWy_vwnpwSQPIVdtEDGoYB6k",
        authDomain: "fawazir-jaco.firebaseapp.com",
        databaseURL: "https://fawazir-jaco-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "fawazir-jaco",
        storageBucket: "fawazir-jaco.firebasestorage.app",
        messagingSenderId: "862747657100",
        appId: "1:862747657100:web:d52ecee9373a5e33fd8ca9"
    };
    firebase.initializeApp(config);
    const db = firebase.database();

    const myQuestions = [
        { q: "Ÿ°/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿä ÿßŸÑÿ∞Ÿä ÿ™ŸÖÿ≥ŸÉŸá ÿØŸàŸÜ ÿßŸÜ ÿ™ŸÑŸÖÿ≥Ÿáÿü", options: ["ÿßŸÑŸàÿπÿØ", "ÿßŸÑŸÜŸÅÿ≥", "ÿßŸÑÿ¨ŸÜŸä"], correct: 0 },
        { q: "Ÿ¢/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸäŸèÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ™Ÿàÿ≠ŸäÿØ ŸÑŸàŸÜ ÿßŸÑÿ®ÿ¥ÿ±ÿ© Ÿàÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿπŸäŸàÿ®ÿü", options: ["ÿßŸÑŸÅÿßŸàŸÜÿØŸäÿ¥ŸÜ", "ÿßŸÑŸáÿßŸäŸÑÿßŸäÿ™ÿ±", "ÿßŸÑÿ™ŸàŸÜÿ±"], correct: 0 },
        { q: "Ÿ£/ÿ≥Ÿäÿßÿ±ÿ© \"ÿ™Ÿäÿ≥ŸÑÿß\" (Tesla) ŸÖÿ¥ŸáŸàÿ±ÿ© ÿ®ÿ£ŸÜŸáÿß ÿ™ÿπŸÖŸÑ ÿ®ŸÄŸÖÿßÿ∞ÿßÿü", options: ["ÿßŸÑÿ®ŸÜÿ≤ŸäŸÜ", "ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ°", "ÿßŸÑŸÅÿ≠ŸÖ"], correct: 1 },
        { q: "Ÿ§/ÿÆŸÖŸÜ ÿßŸÑŸÖÿ´ŸÑ ŸÖŸÜ ÿßŸÑÿßŸäŸÖŸàÿ¨Ÿä: ü´≤üî•ü´≤üíßÿü", options: ["ÿßŸÑŸÑŸä ŸäÿØŸá ŸÅŸä ÿßŸÑŸÜÿßÿ± ŸÖŸà ŸÖÿ´ŸÑ ÿßŸÑŸÑŸä ŸäÿØŸá ŸÅŸä ÿßŸÑŸÖŸàŸäÿß", "ÿßŸÑŸÑŸä ŸäÿØŸá ŸÖÿ≠ÿ™ÿ±ŸÇŸá ŸÖŸà ŸÖÿ´ŸÑ ÿßŸÑŸÑŸä ŸäÿØŸá ŸÖÿ´ŸÑÿ¨Ÿá", "ÿßŸÑŸÑŸä ŸäÿØŸá ŸÖŸÑÿ™Ÿáÿ®Ÿá ŸÖŸà ŸÖÿ´ŸÑ ÿßŸÑŸÑŸä ŸäÿØŸá ŸÅŸä ÿßŸÑÿ®ÿ±ÿßÿØ"], correct: 0 },
        { q: "Ÿ•/ÿÆŸÖŸÜ ÿßŸÑÿßŸÉŸÑŸá ŸÖŸÜ ÿßŸÑÿßŸäŸÖŸàÿ¨Ÿä: üêàüòòÿü", options: ["ÿ®ÿ≥ÿ®Ÿàÿ≥Ÿá", "ÿ®ÿ≥Ÿá ÿ™ÿ≠ÿ® ÿßŸÑÿ®ÿ≥ÿ®Ÿàÿ≥Ÿá", "ÿßŸÑÿßŸÜÿ≥ÿßŸÜ Ÿäÿ≠ÿ® ŸäÿßŸÉŸÑ ÿßŸÑÿ®ÿ≥Ÿá"], correct: 0 },
        { q: "Ÿ¶/ŸÜÿßÿØŸä ÿßŸÑÿßÿ™ÿ≠ÿßÿØÿå ŸÖÿß ŸáŸà ÿßŸÑÿ≠ŸäŸàÿßŸÜ ÿßŸÑŸÖŸàÿ¨ŸàÿØ ŸÅŸä ÿ¥ÿπÿßÿ±Ÿá ŸàŸäŸÑŸÇÿ® ÿ®Ÿáÿü", options: ["ÿßŸÑÿµŸÇÿ±", "ÿßŸÑŸÜŸÖÿ±", "ÿßŸÑÿ∞ÿ¶ÿ®"], correct: 1 },
        { q: "Ÿß/ÿ£ŸäŸÜ ŸäŸÇÿπ ÿßŸÑÿ®ÿ≠ÿ± ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäŸàÿ¨ÿØ ŸÅŸäŸá ŸÇÿ∑ÿ±ÿ© ŸÖÿßÿ°ÿü", options: ["ŸÅŸä ÿßŸÑŸÅÿ∂ÿßÿ°", "ÿπŸÑŸâ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©", "ŸÅŸä ÿßŸÑÿµÿ≠ÿ±ÿßÿ° ÿßŸÑŸÉÿ®ÿ±Ÿâ"], correct: 1 },
        { q: "Ÿ®/ŸÖÿßÿ∞ÿß ŸÜÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑÿ®ÿ≥Ÿäÿ∑ÿ© ŸÅŸä ÿßŸÑŸÉÿ≠ŸÑÿü", options: ["ÿ£ÿπŸàÿßÿØ ÿßŸÑŸÇÿ∑ŸÜ ŸÖÿπ ŸÖÿ≤ŸäŸÑ ŸÖŸÉŸäÿßÿ¨", "ÿßŸÑŸÖŸÖÿ≠ÿßÿ©", "ÿßŸÑŸÖÿßÿ° ŸàÿßŸÑÿµÿßÿ®ŸàŸÜ ŸÖÿ®ÿßÿ¥ÿ±ÿ©"], correct: 0 },
        { q: "Ÿ©/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸäŸÖÿ™ŸÑŸÉ ÿ±ÿ¶ÿ© ŸàŸÑÿß Ÿäÿ™ŸÜŸÅÿ≥ÿü", options: ["ÿßŸÑÿßÿ≥ŸÅŸÜÿ¨Ÿá", "ÿßŸÑÿ≥Ÿäÿßÿ±Ÿá", "ÿßŸÑŸÖŸÜŸÅÿßÿÆ"], correct: 2 },
        { q: "Ÿ°Ÿ†/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸäŸÖÿ™ŸÑŸÉ ÿπÿ±ŸàŸÇÿßŸã ŸàŸÑÿß Ÿäÿ¨ÿ±Ÿä ŸÅŸäŸáÿß ÿØŸÖÿü", options: ["Ÿàÿ±ŸÇÿ© ÿßŸÑÿ¥ÿ¨ÿ±", "ÿßŸÑÿ±ÿÆÿßŸÖ", "ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©"], correct: 0 },
        { q: "Ÿ°Ÿ°/ÿßŸä ÿµŸÑÿßŸá ŸÑÿß ŸäŸàÿ¨ÿØ ŸÅŸäŸáÿß ŸÑÿß ÿ±ŸÉŸàÿπ Ÿà ŸÑÿß ÿ≥ÿ¨ŸàÿØÿü", options: ["ÿµŸÑÿßÿ© ÿßŸÑÿßÿ≥ÿ™ÿ≥ŸÇÿßÿ°", "ÿµŸÑÿßÿ© ÿßŸÑÿ¨ŸÜÿßÿ≤ÿ©", "ÿµŸÑÿßÿ© ÿßŸÑŸÉÿ≥ŸàŸÅ"], correct: 1 },
        { q: "Ÿ°Ÿ¢/ÿ¥Ÿä ŸäŸÖÿ™ŸÑŸÉ ÿ±Ÿäÿ¥ÿßŸã Ÿà ŸÑÿß Ÿäÿ∑Ÿäÿ±ÿü", options: ["ÿßŸÑŸÖÿÆÿØŸá", "ÿßŸÑÿØÿ¨ÿßÿ¨ÿ©", "ÿßŸÑÿ≥ŸáŸÖ"], correct: 0 },
        { q: "Ÿ°Ÿ£/ŸÖÿß ŸáŸà ÿßŸÑŸÑŸàŸÜ ÿßŸÑÿ∞Ÿä ŸÉÿßŸÜ ÿßŸÑŸÜÿ®Ÿä Ô∑∫ Ÿäÿ≠ÿ® ŸÑÿ®ÿ≥Ÿá ŸÉÿ´Ÿäÿ±ÿßŸãÿü", options: ["ÿßŸÑÿßÿ≠ŸÖÿ±", "ÿßŸÑÿßÿ®Ÿäÿ∂", "ÿßŸÑÿßÿÆÿ∂ÿ±"], correct: 1 },
        { q: "Ÿ°Ÿ§/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿä ÿßŸÑÿ∞Ÿä ŸäŸÖÿ™ŸÑŸÉ ÿßÿ®ŸáÿßŸÖÿßŸã Ÿà Ÿ§ ÿßÿµÿßÿ®ÿπ ŸàŸÑŸÉŸÜŸá ŸÑŸäÿ≥ ÿ≠ŸäÿßŸãÿü", options: ["ÿßŸÑŸÇŸÅÿßÿ≤", "ÿßŸÑÿ™ŸÖÿ´ÿßŸÑ", "ŸäÿØ ÿßŸÑÿ®ÿ¥ÿ±"], correct: 0 },
        { q: "Ÿ°Ÿ•/ŸÖÿßÿ∞ÿß ŸäÿπŸÜŸä SPF ŸÅŸä ŸàÿßŸÇŸä ÿßŸÑÿ¥ŸÖÿ≥ÿü", options: ["ÿπÿßŸÖŸÑ ÿßŸÑÿ≠ŸÖÿßŸäÿ© ŸÖŸÜ ÿßŸÑÿ¥ŸÖÿ≥", "ÿ≥ÿπÿ± ÿßŸÑŸÖŸÜÿ™ÿ¨", "ÿßÿ≥ŸÖ ÿßŸÑÿ¥ÿ±ŸÉÿ©"], correct: 0 },
        { q: "Ÿ°Ÿ¶/ŸÖÿß ŸáŸà ŸÅÿ∂ŸÑ ŸÇÿ±ÿßÿ°ÿ© ÿ≥Ÿàÿ±ÿ© ÿßŸÑŸÉŸáŸÅ ŸäŸàŸÖ ÿßŸÑÿ¨ŸÖÿπÿ©ÿü", options: ["ÿ™ÿ≤ŸäÿØ ÿßŸÑÿ±ÿ≤ŸÇ", "ÿ™ÿ∂Ÿäÿ° ŸÑŸÑŸÖÿ≥ŸÑŸÖ ŸÜŸàÿ±ÿßŸã ÿ®ŸäŸÜ ÿßŸÑÿ¨ŸÖÿπÿ™ŸäŸÜ", "ÿ™ÿ≠ŸÖŸä ŸÖŸÜ ÿßŸÑŸÖÿ±ÿ∂"], correct: 1 },
        { q: "Ÿ°Ÿß/ÿÆŸÖŸÜ ÿßŸÑÿßÿ≥ŸÖ ŸÖŸÜ ÿßŸÑÿßŸäŸÖŸàÿ¨Ÿä: ÿßÿ≥ üíß", options: ["ÿßÿ≥ŸÖÿßÿ°", "ÿßÿ≥ŸÇÿ∑ÿ±ÿ©", "ŸÖÿßÿ≥Ÿá"], correct: 0 },
        { q: "Ÿ°Ÿ®/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿä ÿßŸÑÿ∞Ÿä ÿ™ÿ±ÿßŸá ŸÅŸä ÿßŸÑŸÑŸäŸÑ Ÿ£ŸÖÿ±ÿßÿ™ ÿü", options: ["ÿßŸÑŸÜÿ¨ŸàŸÖ", "ÿ≠ÿ±ŸÅ ÿßŸÑŸÑÿßŸÖ", "ÿßŸÑŸÇŸÖÿ±"], correct: 1 },
        { q: "Ÿ°Ÿ©/ŸÖÿß ŸáŸà ÿßŸÑÿ∑Ÿäÿ± ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜŸá ÿßŸÑÿ∑Ÿäÿ± ÿßŸÑŸâ ÿßŸÑÿÆŸÑŸÅ ÿü", options: ["ÿßŸÑÿÆŸÅÿßÿ¥", "ÿßŸÑÿ∑ŸÜÿßŸÜ", "ÿßŸÑÿ®ŸàŸÖÿ©"], correct: 1 },
        { q: "Ÿ¢Ÿ†/ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ 3 ÿ™ŸÅÿßÿ≠ÿßÿ™ Ÿàÿ£ÿÆÿ∞ÿ™ ŸÖŸÜŸáŸÖ ÿ™ŸÅÿßÿ≠ÿ™ŸäŸÜÿå ŸÅŸÉŸÖ ÿ™ŸÅÿßÿ≠ÿ© ŸÖÿπŸÉÿü", options: ["ÿ™ŸÅÿßÿ≠ÿ™ŸäŸÜ ÿßŸÑŸÑŸä ŸÖÿπÿßŸä", "ÿ™ŸÅÿßÿ≠Ÿá", "Ÿ£ ÿ™ŸÅÿßÿ≠ÿßÿ™"], correct: 0 },
        { q: "Ÿ¢Ÿ°/ŸÖŸÜ ÿßŸàŸÑ ŸÖŸÜ ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ®ŸàÿµŸÑŸáÿü", options: ["ÿßŸÑÿµŸäŸÜ", "ÿßŸÑÿ≥ÿπŸàÿØŸäŸá", "ÿßŸÑŸÉŸàŸäÿ™"], correct: 0 },
        { q: "Ÿ¢Ÿ¢/ÿÆŸÖŸÜ ÿßŸÑŸÖÿ´ŸÑ: üê± + üê≠ + üè† = ÿü", options: ["ÿßŸÜ ÿ∫ÿßÿ® ÿßŸÑŸÇÿ∑ ÿßŸÑÿπÿ® Ÿäÿß ŸÅÿßÿ±", "ÿßŸÜ ÿ∫ÿßÿ® ÿßŸÑŸÇÿ∑ ÿßŸÑÿπÿ® Ÿäÿß ŸÉŸÑÿ®", "ÿßŸÜ ÿ∫ÿßÿ® ÿßŸÑŸÅÿßÿ± ÿßŸÑÿπÿ® Ÿäÿß ŸÇÿ∑"], correct: 0 },
        { q: "Ÿ¢Ÿ£/ŸÖÿß ŸáŸà ÿßŸÑÿ¥Ÿäÿ° ÿßŸÑÿ∞Ÿä ŸÑÿß Ÿäÿ£ŸÉŸÑ ŸàŸÑÿß Ÿäÿ¥ÿ±ÿ®ÿå ŸàŸÖÿπ ÿ∞ŸÑŸÉ ÿ∞ŸÉÿ± ŸÅŸä ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿ£ŸÜŸá \"Ÿäÿ™ŸÜŸÅÿ≥\"ÿü", options: ["ÿßŸÑÿ¨ŸÜŸäŸÜ", "ÿßŸÑÿµÿ®ÿ≠", "ÿßŸÑÿ¨ÿ®ÿßŸÑ"], correct: 1 },
        { q: "Ÿ¢Ÿ§/ÿ≥Ÿäÿßÿ±ÿ© ÿ±Ÿäÿßÿ∂Ÿäÿ© ÿ¥ÿπÿßÿ±Ÿáÿß \"ÿßŸÑÿ´Ÿàÿ± ÿßŸÑŸáÿßÿ¶ÿ¨\"ÿü", options: ["ŸÖŸàÿ≥ÿ™ŸÜÿ¨", "ŸÑÿßŸÖÿ®Ÿàÿ±ÿ¨ŸäŸÜŸä", "ŸÅŸäÿ±ÿßÿ±Ÿä"], correct: 1 },
        { q: "Ÿ¢Ÿ•/ŸÖÿß ŸáŸä ÿßÿÆÿ± ÿ≥Ÿàÿ±ÿ© ŸÜÿ≤ŸÑÿ™ ÿ®ÿßŸÑŸÇÿ±ÿ£ŸÜ ÿü", options: ["ÿßŸÑŸÜÿµÿ±", "ÿßŸÑŸÅŸÑŸÇ", "ÿßŸÑÿßÿÆŸÑÿßÿµ"], correct: 0 },
        { q: "Ÿ¢Ÿ¶/ÿ¥Ÿäÿ° ŸÖŸàÿ¨ŸàÿØ ŸÅŸä ÿßŸÑÿ¥ŸÜÿ∑ÿ© Ÿàÿ∏ŸäŸÅÿ™Ÿá Ÿäÿ±ŸÅÿπ ÿßŸÑÿ≥Ÿäÿßÿ±ÿ© ÿπÿ¥ÿßŸÜ ÿ™ÿ∫Ÿäÿ± ÿßŸÑŸÉŸÅÿ±ÿü", options: ["ÿßŸÑŸÖŸÅÿ™ÿßÿ≠", "ÿßŸÑÿπŸÅÿ±Ÿäÿ™ÿ©", "ÿßŸÑŸÇŸÖÿπ"], correct: 1 },
        { q: "Ÿ¢Ÿß/ŸÉŸÖ ÿπÿØÿØ ŸÅŸÇÿ±ÿßÿ™ ÿßŸÑÿπŸÖŸàÿØ ÿßŸÑŸÅŸÇÿ±Ÿäÿü", options: ["33", "34", "40"], correct: 0 },
        { q: "Ÿ¢Ÿ®/ŸÖŸÜ ŸáŸà ÿßŸÑŸÜÿ®Ÿä ÿßŸÑÿ∞Ÿä ŸÉÿßŸÜÿ™ ŸÖÿπÿ¨ÿ≤ÿ™Ÿá \"ÿßŸÑŸÜÿßŸÇÿ©\" ÿßŸÑÿ™Ÿä ÿÆÿ±ÿ¨ÿ™ ŸÖŸÜ ÿßŸÑÿµÿÆÿ±ÿü", options: ["ÿ≥ŸäÿØŸÜÿß ŸáŸàÿØ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ≥ŸäÿØŸÜÿß ÿµÿßŸÑÿ≠ ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ", "ÿ≥ŸäÿØŸÜÿß ÿ¥ÿπŸäÿ® ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ"], correct: 1 },
        { q: "Ÿ¢Ÿ©/ÿ≥Ÿàÿ±ÿ© ŸÅŸä ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ ÿ∞ŸèŸÉÿ± ŸÅŸäŸáÿß \"ÿßŸÑÿ∞ÿ®ÿßÿ®\" Ÿà \"ÿßŸÑÿ®ÿπŸàÿ∂\"ÿü", options: ["ÿ≥Ÿàÿ±ÿ© ÿßŸÑŸÜÿ≠ŸÑ", "ÿ≥Ÿàÿ±ÿ© ÿßŸÑÿ®ŸÇÿ±ÿ©", "ÿ≥Ÿàÿ±ÿ© ÿßŸÑŸÅŸäŸÑ"], correct: 1 },
        { q: "Ÿ£Ÿ†/ÿ£ŸÜÿ¥ÿØŸÉ ÿπŸÜ ÿ±ÿ¨ŸÑŸç ÿ≥ÿ±Ÿäÿπ ÿßŸÑÿÆÿ∑ÿßŸàŸä.. ŸäŸÖÿ¥Ÿä ÿπŸÑŸâ ŸÉÿ®ÿØŸá ŸàŸÑÿß ŸÑŸá ÿ±ÿ¨ŸÑŸäŸÜÿü", options: ["ÿßŸÑŸÇÿ∑ÿßÿ±", "ÿßŸÑÿ≥ŸäŸàŸÑ", "ÿßŸÑÿ±ÿπÿØ"], correct: 0 }
    ];

    let currentQIdx = -1;

    // ÿßÿ≥ÿ™ÿπÿßÿØÿ© ÿßŸÑÿßÿ≥ŸÖ ŸÖŸÜ ÿßŸÑÿ∞ÿßŸÉÿ±ÿ© ÿ•ŸÜ Ÿàÿ¨ÿØ
    if(localStorage.getItem('saved_name')) {
        document.getElementById('username').value = localStorage.getItem('saved_name');
    }

    db.ref('currentQuestion').on('value', snap => {
        const val = snap.val();
        currentQIdx = val;
        const qArea = document.getElementById('question-area');
        const loginArea = document.getElementById('login-area');
        const status = document.getElementById('status');

        if (val !== -1 && val !== null) {
            loginArea.style.display = "none";
            qArea.style.display = "block";
            status.innerText = "ÿ£ÿ¨ÿ® ÿ®ÿ≥ÿ±ÿπÿ©! üì¢";
            startQuestionProcess(val);
        } else {
            qArea.style.display = "none";
            loginArea.style.display = "block";
            status.innerText = "ÿßŸÜÿ™ÿ∏ÿ± ÿ®ÿØÿ° ÿßŸÑÿ≥ÿ§ÿßŸÑ... ‚è≥";
            document.getElementById('timer-box').innerText = "";
        }
    });

    function startQuestionProcess(index) {
        const qData = myQuestions[index];
        const container = document.getElementById('options-container');
        const timerBox = document.getElementById('timer-box');
        
        document.getElementById('q-text').innerText = qData.q;
        container.innerHTML = "";
        
        // ŸàŸÇÿ™ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ± ŸÇÿ®ŸÑ ÿ∏ŸáŸàÿ± ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ (ŸÖÿ´ŸÑÿßŸã 4 ÿ´ŸàÿßŸÜŸç)
        let countdown = 4; 
        timerBox.innerText = `ÿ™ÿ∏Ÿáÿ± ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿÆŸÑÿßŸÑ ${countdown}`;

        const interval = setInterval(() => {
            countdown--;
            if(countdown > 0) {
                timerBox.innerText = `ÿ™ÿ∏Ÿáÿ± ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™ ÿÆŸÑÿßŸÑ ${countdown}`;
            } else {
                clearInterval(interval);
                timerBox.innerText = "ÿßÿÆÿ™ÿ± ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© ÿßŸÑÿ¢ŸÜ!";
                renderOptions(qData);
            }
        }, 1000);
    }

    function renderOptions(qData) {
        const container = document.getElementById('options-container');
        qData.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = "opt-btn";
            btn.innerText = opt;
            btn.style.display = "block"; 
            btn.onclick = () => handleChoice(idx, btn);
            container.appendChild(btn);
        });
    }

    function handleChoice(choice, btn) {
        const nameInput = document.getElementById('username').value.trim();
        if(!nameInput) { alert("ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ ÿ£ŸàŸÑÿßŸã!"); return; }
        
        // ÿ≠ŸÅÿ∏ ÿßŸÑÿßÿ≥ŸÖ ŸÑŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÑÿßÿ≠ŸÇÿßŸã
        localStorage.setItem('saved_name', nameInput);

        if(choice === myQuestions[currentQIdx].correct) {
            btn.classList.add('correct');
            document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);
            
            // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ŸÑŸÄ Firebase
            db.ref('answers_logs/' + currentQIdx).push({
                name: nameInput,
                timestamp: firebase.database.ServerValue.TIMESTAMP
            });
            document.getElementById('status').innerText = "‚úÖ ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿ•ÿ¨ÿßÿ®ÿ™ŸÉ!";
        } else {
            btn.classList.add('wrong');
            setTimeout(() => btn.classList.remove('wrong'), 400);
        }
    }
</script>
</body>
</html>
